
val USD = asset;
val EUR = asset 2 of USD;
val w = wallet { EUR: 10, USD: 10 };
val r = buy 2 of USD with w through EUR;
r;; 


val USD = asset;
val EUR = asset 2 of USD;
val w = wallet { EUR: 10, USD: 10 };
val r = buy 2 of USD with w through EUR;
w;; 